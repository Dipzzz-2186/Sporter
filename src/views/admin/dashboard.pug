extends ../layout/main

block content
  style.
    /* Admin Dashboard Styles */
    .admin-dashboard {
      background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
      min-height: 100vh;
      padding: 2rem 0;
    }
    
    /* Header Section */
    .admin-header {
      background: linear-gradient(135deg, #1C1C1E 0%, #2c2c2e 100%);
      border-radius: 24px;
      padding: 2rem;
      margin-bottom: 2rem;
      color: white;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      animation: fadeInDown 0.6s ease-out;
    }
    
    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .admin-header h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: 2.5rem;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #FF3B30 0%, #FF9500 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .admin-header p {
      color: rgba(255, 255, 255, 0.7);
      font-size: 1rem;
      margin: 0;
    }
    
    .admin-badge {
      background: rgba(255, 59, 48, 0.15);
      color: #FF3B30;
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.9rem;
      border: 2px solid rgba(255, 59, 48, 0.3);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .admin-header .btn {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .admin-header .btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: #FF3B30;
      color: white;
      transform: translateY(-2px);
    }
    
    /* Stat Cards */
    .admin-stat-card {
      background: white;
      border-radius: 20px;
      border: 2px solid #f0f0f0;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out backwards;
      position: relative;
    }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .admin-stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #FF3B30 0%, #FF9500 100%);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }
    
    .admin-stat-card:hover::before {
      transform: scaleX(1);
    }
    
    .admin-stat-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 35px rgba(255, 59, 48, 0.15);
      border-color: #FF3B30;
    }
    
    .admin-stat-card .card-body {
      padding: 2rem;
    }
    
    .stat-icon-wrapper {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #fff5f5 0%, #ffe8e6 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
      transition: all 0.4s ease;
      border: 2px solid #ffeded;
    }
    
    .admin-stat-card:hover .stat-icon-wrapper {
      background: linear-gradient(135deg, #FF3B30 0%, #FF9500 100%);
      transform: rotate(10deg) scale(1.1);
      border-color: #FF3B30;
    }
    
    .stat-icon {
      font-size: 1.8rem;
      color: #FF3B30;
      transition: color 0.4s ease;
    }
    
    .admin-stat-card:hover .stat-icon {
      color: white;
    }
    
    .stat-label {
      color: #6c757d;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      display: block;
    }
    
    .stat-number {
      font-family: 'Bebas Neue', cursive;
      font-size: 2.5rem;
      color: #1C1C1E;
      letter-spacing: 1px;
      margin: 0;
      transition: color 0.3s ease;
    }
    
    .admin-stat-card:hover .stat-number {
      color: #FF3B30;
    }
    
    /* Content Cards */
    .admin-content-card {
      background: white;
      border-radius: 20px;
      border: 2px solid #f0f0f0;
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out backwards;
      height: 100%;
    }
    
    .admin-content-card .card-header {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-bottom: 2px solid #e8e8e8;
      padding: 1.5rem;
    }
    
    .admin-content-card .card-header h5 {
      color: #1C1C1E;
      font-weight: 700;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 0;
    }
    
    .admin-content-card .card-header i {
      color: #FF3B30;
      font-size: 1.3rem;
    }
    
    .admin-content-card .card-header a {
      color: #6c757d;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      font-size: 0.9rem;
    }
    
    .admin-content-card .card-header a:hover {
      color: #FF3B30;
      transform: translateX(3px);
    }
    
    /* Table Styles */
    .admin-table {
      margin: 0;
    }
    
    .admin-table thead {
      background: #f8f9fa;
    }
    
    .admin-table thead th {
      color: #6c757d;
      font-weight: 600;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 1rem;
      border: none;
    }
    
    .admin-table tbody tr {
      border-bottom: 1px solid #f0f0f0;
      transition: all 0.3s ease;
    }
    
    .admin-table tbody tr:hover {
      background: #f8f9fa;
      transform: translateX(5px);
    }
    
    .admin-table tbody td {
      padding: 1rem;
      vertical-align: middle;
      border: none;
    }
    
    .admin-table tbody td a {
      color: #1C1C1E;
      font-weight: 600;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .admin-table tbody td a:hover {
      color: #FF3B30;
    }
    
    .admin-table .badge {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.75rem;
      text-transform: uppercase;
    }
    
    /* List Group Styles */
    .news-list-item {
      border: none;
      border-bottom: 1px solid #f0f0f0;
      padding: 1.25rem;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .news-list-item:hover {
      background: #f8f9fa;
      transform: translateX(5px);
    }
    
    .news-list-item h6 {
      color: #1C1C1E;
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 0.5rem;
      transition: color 0.3s ease;
    }
    
    .news-list-item:hover h6 {
      color: #FF3B30;
    }
    
    .news-list-item .badge {
      padding: 0.3rem 0.7rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.75rem;
    }
    
    .news-list-item i.bi-chevron-right {
      transition: transform 0.3s ease;
    }
    
    .news-list-item:hover i.bi-chevron-right {
      transform: translateX(5px);
    }
    
    /* Empty State */
    .empty-state {
      padding: 3rem 2rem;
      text-align: center;
    }
    
    .empty-state-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    .empty-state-icon i {
      font-size: 2.5rem;
      color: #adb5bd;
    }
    
    .empty-state p {
      color: #6c757d;
      font-size: 0.95rem;
      margin: 0;
    }
    
    /* Responsive */
    @media (max-width: 991px) {
      .admin-header {
        padding: 1.5rem;
      }
      
      .admin-header h1 {
        font-size: 2rem;
      }
      
      .stat-number {
        font-size: 2rem;
      }
      
      .admin-stat-card .card-body {
        padding: 1.5rem;
      }
    }
    
    @media (max-width: 767px) {
      .admin-dashboard {
        padding: 1rem 0;
      }
      
      .admin-header {
        padding: 1.25rem;
        border-radius: 16px;
      }
      
      .admin-header h1 {
        font-size: 1.75rem;
      }
      
      .admin-badge,
      .admin-header .btn {
        width: 100%;
        justify-content: center;
        margin-top: 0.5rem;
      }
      
      .stat-icon-wrapper {
        width: 50px;
        height: 50px;
      }
      
      .stat-icon {
        font-size: 1.5rem;
      }
      
      .stat-number {
        font-size: 1.8rem;
      }
      
      .admin-table {
        font-size: 0.85rem;
      }
      
      .admin-table thead th,
      .admin-table tbody td {
        padding: 0.75rem 0.5rem;
      }
    }
    
    /* Animation delays */
    .admin-stat-card:nth-child(1) { animation-delay: 0.1s; }
    .admin-stat-card:nth-child(2) { animation-delay: 0.2s; }
    .admin-stat-card:nth-child(3) { animation-delay: 0.3s; }
    .admin-stat-card:nth-child(4) { animation-delay: 0.4s; }

  .admin-dashboard
    .container-fluid
      //- Header Section
      .admin-header
        .row.align-items-center.g-3
          .col-lg-7
            h1 Admin Dashboard
            p
              i.bi.bi-speedometer2.me-2
              | Kelola event, berita, dan aktivitas platform SPORTER dengan mudah.
          
          .col-lg-5
            .d-flex.align-items-center.justify-content-lg-end.gap-2.flex-wrap
              if currentUser
                .admin-badge
                  i.bi.bi-person-badge
                  span= currentUser.role || 'Admin'
              a.btn(href="/")
                i.bi.bi-house-door.me-2
                | Lihat Website
              if currentUser && currentUser.role === 'admin'
                a.btn.btn-primary.btn-sm.ms-2(href="/admin/subadmins")
                  i.bi.bi-people-fill.me-1
                  | Manage Subadmins

      //- Stats Cards
      .row.g-3.g-lg-4.mb-4
        .col-6.col-lg-3
          .card.border-0.admin-stat-card
            .card-body
              .stat-icon-wrapper
                i.stat-icon.bi.bi-dribbble
              span.stat-label Cabang Olahraga
              h3.stat-number= stats.sports || 0
        
        .col-6.col-lg-3
          .card.border-0.admin-stat-card
            .card-body
              .stat-icon-wrapper
                i.stat-icon.bi.bi-calendar-event
              span.stat-label Total Event
              h3.stat-number= stats.events || 0
        
        .col-6.col-lg-3
          .card.border-0.admin-stat-card
            .card-body
              .stat-icon-wrapper
                i.stat-icon.bi.bi-calendar-check
              span.stat-label Event Mendatang
              h3.stat-number= stats.upcomingEvents || 0
        
        .col-6.col-lg-3
          .card.border-0.admin-stat-card
            .card-body
              .stat-icon-wrapper
                i.stat-icon.bi.bi-newspaper
              span.stat-label Berita Terpublikasi
              h3.stat-number= stats.news || 0

      //- Content Section
      .row.g-4
        //- Recent Events
        .col-lg-6
          .card.border-0.admin-content-card
            .card-header.d-flex.justify-content-between.align-items-center
              h5
                i.bi.bi-calendar-event
                | Event Terbaru
              a(href="/admin/events")
                | Kelola Event
                i.bi.bi-arrow-right.ms-1
            
            if recentEvents && recentEvents.length
              .table-responsive
                table.table.admin-table.mb-0
                  thead
                    tr
                      th Judul Event
                      th Cabang
                      th Status
                      th Tanggal
                  tbody
                    each e in recentEvents
                      tr
                        td
                          a(href=`/events/${e.slug || e.id}`)= e.title
                        td
                          span.text-muted= e.sport_name || '-'
                        td
                          if e.status === 'upcoming'
                            span.badge.bg-warning.text-dark Upcoming
                          else if e.status === 'ongoing'
                            span.badge.bg-success Ongoing
                          else
                            span.badge.bg-secondary Finished
                        td
                          - const d = e.start_date ? new Date(e.start_date) : null
                          if d
                            span.small.text-muted= d.toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' })
                          else
                            span.small.text-muted -
            else
              .empty-state
                .empty-state-icon
                  i.bi.bi-calendar-x
                p Belum ada event tercatat.

        //- Recent News
        .col-lg-6
          .card.border-0.admin-content-card
            .card-header.d-flex.justify-content-between.align-items-center
              h5
                i.bi.bi-newspaper
                | Berita Terbaru
              a(href="/news")
                | Lihat Semua
                i.bi.bi-arrow-right.ms-1
            
            if recentNews && recentNews.length
              .list-group.list-group-flush
                each n in recentNews
                  a.list-group-item.news-list-item.d-flex.justify-content-between.align-items-start(
                    href=`/news/${n.slug}`
                  )
                    .flex-grow-1
                      if n.sport_name
                        span.badge.bg-light.text-danger.border.mb-2
                          = n.sport_name
                      h6= n.title
                      if n.published_at
                        - const dn = n.published_at ? new Date(n.published_at) : null
                        if dn
                          small.text-muted
                            i.bi.bi-clock.me-1
                            = dn.toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' })
                    i.bi.bi-chevron-right.text-muted.ms-3
            else
              .empty-state
                .empty-state-icon
                  i.bi.bi-newspaper
                p Belum ada berita terpublikasi.

  //- Custom JavaScript
  script.
    (function() {
      // Intersection Observer for animations
      if ('IntersectionObserver' in window) {
        var observer = new IntersectionObserver(function(entries) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateY(0)';
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });
        
        // Observe stat cards
        document.querySelectorAll('.admin-stat-card').forEach(function(card) {
          observer.observe(card);
        });
        
        // Observe content cards
        document.querySelectorAll('.admin-content-card').forEach(function(card) {
          observer.observe(card);
        });
      }
      
      // Counter animation for stats
      function animateCounter(element, start, end, duration) {
        var range = end - start;
        var increment = range / (duration / 16);
        var current = start;
        
        var timer = setInterval(function() {
          current += increment;
          if (current >= end) {
            current = end;
            clearInterval(timer);
          }
          element.textContent = Math.floor(current);
        }, 16);
      }
      
      // Animate stat numbers on load
      document.querySelectorAll('.stat-number').forEach(function(el) {
        var endValue = parseInt(el.textContent) || 0;
        if (endValue > 0) {
          el.textContent = '0';
          setTimeout(function() {
            animateCounter(el, 0, endValue, 1000);
          }, 300);
        }
      });
      
      // Add tooltip for truncated text (optional)
      document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(function(el) {
        new bootstrap.Tooltip(el);
      });
    })();