extends ../layout/main

block content
  style.
    /* Color Palette */
    .bg-navy {
      background: linear-gradient(135deg, #0f2744 0%, #1a3a5c 100%);
    }
    
    .bg-light-navy {
      background: linear-gradient(135deg, #1a3a5c 0%, #234567 100%);
    }
    
    .bg-cyan {
      background-color: #3dd5f3;
    }
    
    .text-navy {
      color: #0f2744;
    }
    
    .text-cyan {
      color: #3dd5f3;
    }
    
    /* Hero Section */
    .team-hero {
      background: linear-gradient(135deg, #0f2744 0%, #1a3a5c 100%);
      padding: 4rem 0 3rem;
      position: relative;
      overflow: hidden;
      margin-bottom: 3rem;
    }
    
    .team-hero::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(61, 213, 243, 0.15) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }
    
    .team-hero::after {
      content: '';
      position: absolute;
      bottom: -30%;
      left: -10%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(61, 213, 243, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }
    
    .team-icon-wrapper {
      width: 80px;
      height: 80px;
      background: #3dd5f3;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(61, 213, 243, 0.3);
      position: relative;
      z-index: 2;
    }
    
    .team-icon-wrapper i {
      font-size: 2.5rem;
      color: #0f2744;
    }
    
    .team-title {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      letter-spacing: -0.5px;
      position: relative;
      z-index: 2;
    }
    
    .team-sport-badge {
      background: #3dd5f3;
      color: #0f2744 !important;
      padding: 0.75rem 1.75rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 16px rgba(61, 213, 243, 0.3);
      border: none;
      position: relative;
      z-index: 2;
    }
    
    /* Back Button */
    .btn-back {
      background: white;
      color: #0f2744 !important;
      border: 2px solid #e8ecf1;
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .btn-back:hover {
      background: #0f2744;
      color: white !important;
      border-color: #0f2744;
      transform: translateX(-5px);
    }
    
    .btn-back i {
      transition: transform 0.3s ease;
    }
    
    .btn-back:hover i {
      transform: translateX(-3px);
    }
    
    /* Section Header */
    .section-header {
      margin-bottom: 2.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 3px solid #e8ecf1;
      position: relative;
    }
    
    .section-header::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, #3dd5f3 0%, #2bc4e2 100%);
      border-radius: 2px;
    }
    
    .section-title {
      font-size: 2rem;
      font-weight: 800;
      color: #0f2744;
      margin-bottom: 0.5rem;
      letter-spacing: -0.5px;
    }
    
    .section-subtitle {
      color: #5a6c7d;
      font-size: 1rem;
      margin: 0;
      font-weight: 500;
    }
    
    /* Member Card */
    .member-card {
      background: white;
      border-radius: 24px;
      border: 2px solid #e8ecf1;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      height: 100%;
      overflow: hidden;
      position: relative;
    }
    
    .member-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #3dd5f3 0%, #2bc4e2 100%);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
      z-index: 10;
    }
    
    .member-card:hover::before {
      transform: scaleX(1);
    }
    
    .member-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 20px 50px rgba(61, 213, 243, 0.25);
      border-color: rgba(61, 213, 243, 0.3);
    }
    
    .member-card-body {
      padding: 2.5rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    /* Photo */
    .member-photo-wrapper {
      position: relative;
      margin-bottom: 1.75rem;
      transition: transform 0.4s ease;
    }
    
    .member-card:hover .member-photo-wrapper {
      transform: scale(1.05);
    }
    
    .member-photo {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      overflow: hidden;
      border: 5px solid #3dd5f3;
      box-shadow: 0 8px 24px rgba(61, 213, 243, 0.3);
      position: relative;
    }
    
    .member-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }
    
    .member-card:hover .member-photo img {
      transform: scale(1.1);
    }
    
    .member-photo-placeholder {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: linear-gradient(135deg, #e8ecf1 0%, #f5f7fa 100%);
      border: 5px solid #3dd5f3;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(61, 213, 243, 0.3);
    }
    
    .member-photo-placeholder i {
      font-size: 3.5rem;
      color: #adb5bd;
    }
    
    /* Member Info */
    .member-name {
      color: #0f2744;
      font-weight: 700;
      font-size: 1.35rem;
      margin-bottom: 1rem;
      text-decoration: none;
      transition: color 0.3s ease;
      display: block;
    }
    
    .member-name:hover {
      color: #3dd5f3;
    }
    
    .member-role-badge {
      background: linear-gradient(135deg, #3dd5f3 0%, #2bc4e2 100%);
      color: #0f2744 !important;
      padding: 0.5rem 1.5rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 12px rgba(61, 213, 243, 0.25);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    /* Profile Button */
    .btn-profile {
      background: linear-gradient(135deg, #3dd5f3 0%, #2bc4e2 100%);
      color: #0f2744 !important;
      border: none;
      padding: 0.85rem 2rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 0.95rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
      text-decoration: none;
      width: 100%;
      justify-content: center;
      box-shadow: 0 4px 16px rgba(61, 213, 243, 0.3);
    }
    
    .btn-profile:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(61, 213, 243, 0.4);
      gap: 0.75rem;
    }
    
    .btn-profile i {
      transition: transform 0.3s ease;
    }
    
    .btn-profile:hover i {
      transform: translateX(3px);
    }
    
    /* Empty State */
    .empty-state {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border: 2px dashed #d0d0d0;
      border-radius: 24px;
      padding: 5rem 3rem;
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .empty-state-icon {
      width: 120px;
      height: 120px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    }
    
    .empty-state-icon i {
      font-size: 4rem;
      color: #adb5bd;
    }
    
    .empty-state-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: #0f2744;
      margin-bottom: 1rem;
    }
    
    .empty-state-text {
      color: #5a6c7d;
      font-size: 1.05rem;
      line-height: 1.6;
      margin: 0;
    }
    
    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .member-card {
      animation: fadeInUp 0.6s ease-out forwards;
      opacity: 0;
    }
    
    .member-card:nth-child(1) { animation-delay: 0.1s; }
    .member-card:nth-child(2) { animation-delay: 0.2s; }
    .member-card:nth-child(3) { animation-delay: 0.3s; }
    .member-card:nth-child(4) { animation-delay: 0.4s; }
    .member-card:nth-child(5) { animation-delay: 0.5s; }
    .member-card:nth-child(6) { animation-delay: 0.6s; }
    .member-card:nth-child(7) { animation-delay: 0.7s; }
    .member-card:nth-child(8) { animation-delay: 0.8s; }
    .member-card:nth-child(9) { animation-delay: 0.9s; }
    
    /* Responsive */
    @media (max-width: 991px) {
      .team-hero {
        padding: 3rem 0 2.5rem;
      }
      
      .team-title {
        font-size: 2.5rem;
      }
      
      .team-icon-wrapper {
        width: 70px;
        height: 70px;
      }
      
      .team-icon-wrapper i {
        font-size: 2rem;
      }
      
      .section-title {
        font-size: 1.75rem;
      }
    }
    
    @media (max-width: 767px) {
      .team-hero {
        padding: 2.5rem 0 2rem;
        margin-bottom: 2rem;
      }
      
      .team-title {
        font-size: 2rem;
      }
      
      .team-icon-wrapper {
        width: 60px;
        height: 60px;
      }
      
      .team-icon-wrapper i {
        font-size: 1.75rem;
      }
      
      .team-sport-badge {
        padding: 0.65rem 1.5rem;
        font-size: 0.9rem;
      }
      
      .member-card-body {
        padding: 2rem 1.5rem;
      }
      
      .member-photo,
      .member-photo-placeholder {
        width: 100px;
        height: 100px;
      }
      
      .member-photo-placeholder i {
        font-size: 3rem;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .empty-state {
        padding: 4rem 2rem;
      }
    }
    
    @media (max-width: 575px) {
      .team-title {
        font-size: 1.75rem;
      }
      
      .btn-back {
        padding: 0.65rem 1.25rem;
        font-size: 0.9rem;
      }
      
      .member-name {
        font-size: 1.2rem;
      }
      
      .member-role-badge {
        font-size: 0.85rem;
        padding: 0.45rem 1.25rem;
      }
    }

  //- Hero Section
  .team-hero
    .container.position-relative
      .row.align-items-center
        .col-lg-8
          .d-flex.align-items-center.gap-4.mb-4
            .team-icon-wrapper
              i.bi.bi-people-fill
          h1.team-title.text-white= team.name
          .d-flex.align-items-center.gap-3
            span.team-sport-badge
              i.bi.bi-trophy
              = team.sport_name

  .container.pb-5
    //- Back Button
    .mb-4
      a.btn-back(href="javascript:history.back()")
        i.bi.bi-arrow-left
        span Kembali

    //- Section Header
    .section-header
      .d-flex.justify-content-between.align-items-end.flex-wrap.gap-3
        div
          h2.section-title Anggota Tim
          p.section-subtitle
            if members.length
              | #{members.length} orang terdaftar dalam tim ini
            else
              | Belum ada anggota yang terdaftar
      
    //- Members Grid
    if members.length
      .row.g-4
        each m in members
          .col-md-6.col-lg-4.col-xl-3
            .member-card
              .member-card-body
                //- Photo
                .member-photo-wrapper
                  if m.photo_url
                    .member-photo
                      img(
                        src=m.photo_url
                        alt=m.name
                        loading="lazy"
                      )
                  else
                    .member-photo-placeholder
                      i.bi.bi-person-circle
                
                //- Member Info
                a.member-name(href=`/athletes/${m.slug}`)= m.name
                
                if m.role
                  span.member-role-badge= m.role
                
                //- Profile Button
                a.btn-profile(href=`/athletes/${m.slug}`)
                  | Lihat Profil
                  i.bi.bi-arrow-right
    else
      //- Empty State
      .empty-state
        .empty-state-icon
          i.bi.bi-people
        h3.empty-state-title Belum Ada Anggota Tim
        p.empty-state-text Saat ini belum ada anggota yang terdaftar dalam tim ini. Anggota baru akan ditampilkan di sini setelah ditambahkan.

  //- Custom JavaScript
  script.
    (function() {
      // Lazy load images
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              if (img.dataset.src) {
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
              }
              observer.unobserve(img);
            }
          });
        }, {
          rootMargin: '50px 0px',
          threshold: 0.1
        });
        
        document.querySelectorAll('img[loading="lazy"]').forEach(img => {
          imageObserver.observe(img);
        });
      }
      
      // Smooth card animations on scroll
      if ('IntersectionObserver' in window) {
        const cardObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.animationPlayState = 'running';
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });
        
        document.querySelectorAll('.member-card').forEach(card => {
          cardObserver.observe(card);
        });
      }
      
      // Add loading state to profile buttons
      document.querySelectorAll('.btn-profile').forEach(btn => {
        btn.addEventListener('click', function(e) {
          if (!this.href.includes('javascript:')) {
            this.style.opacity = '0.7';
            this.style.pointerEvents = 'none';
          }
        });
      });
    })();