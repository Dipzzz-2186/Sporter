extends ../layout/main

block content
  style.
    .profile-page {
      background: linear-gradient(135deg, #f5f8fa 0%, #e9eef3 100%);
      min-height: 100vh;
      padding: 2.5rem 0;
    }
    .profile-card {
      background: #fff;
      border: 2px solid #e8edf2;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,.06);
      overflow: hidden;
    }
    .profile-header {
      background: linear-gradient(135deg, #0B1F3F 0%, #152844 100%);
      padding: 2rem;
      color: #fff;
      position: relative;
      overflow: hidden;
    }
    .profile-header::before {
      content:'';
      position:absolute;
      top:-50%;
      right:-20%;
      width:420px;
      height:420px;
      border-radius:50%;
      background: radial-gradient(circle, rgba(0,149,255,.18) 0%, transparent 70%);
    }
    .avatar {
      width: 84px;
      height: 84px;
      border-radius: 18px;
      background: rgba(255,255,255,.12);
      border: 2px solid rgba(255,255,255,.18);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 2rem;
      font-weight: 800;
      letter-spacing: 1px;
      flex-shrink: 0;
    }
    .profile-name {
      font-family: 'Bebas Neue', cursive;
      font-size: 2.3rem;
      letter-spacing: 1px;
      margin: 0;
      line-height: 1.1;
    }
    .profile-sub {
      margin: .25rem 0 0;
      opacity: .9;
    }
    .profile-body { padding: 2rem; }
    .info-row {
      display:flex;
      gap:1rem;
      padding: 1rem 0;
      border-bottom: 1px solid #f0f4f8;
    }
    .info-row:last-child { border-bottom:none; }
    .info-ico {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: linear-gradient(135deg, #f0f8ff 0%, #e0f2ff 100%);
      border: 1px solid #d6edff;
      display:flex;
      align-items:center;
      justify-content:center;
      color: #0095FF;
      flex-shrink:0;
    }
    .info-title { font-weight: 800; color:#0B1F3F; margin:0; }
    .info-val { margin:0; color:#5a6c7d; }
    .action-grid { display:grid; gap:.75rem; grid-template-columns: 1fr; }
    .action-btn {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      padding: 1rem 1.1rem;
      border-radius: 14px;
      text-decoration:none;
      border: 2px solid #e8edf2;
      background:#f8f9fa;
      color:#5a6c7d;
      font-weight:700;
      transition: all .25s ease;
    }
    .action-btn:hover {
      background:#fff;
      border-color:#0095FF;
      color:#0095FF;
      transform: translateX(4px);
    }
    .action-left { display:flex; align-items:center; gap:.75rem; }
    .action-left i { font-size: 1.15rem; width: 22px; text-align:center; }
    @media (min-width: 992px) {
      .action-grid { grid-template-columns: 1fr; }
    }

  .profile-page
    .container
      if messages && messages.error && messages.error.length
        .alert.alert-danger= messages.error[0]
      if messages && messages.success && messages.success.length
        .alert.alert-success= messages.success[0]

      .row.g-4
        .col-lg-8
          .profile-card
            .profile-header
              .d-flex.align-items-center.gap-3.position-relative(style="z-index:2;")
                - const initials = (user && user.name) ? user.name.trim().split(/\s+/).slice(0,2).map(w => w[0].toUpperCase()).join('') : 'U';
                .avatar= initials
                div
                  h1.profile-name= (user && user.name) ? user.name : 'User'
                  p.profile-sub.mb-0
                    i.bi.bi-person-badge.me-2
                    | Role:
                    b.ms-1= (user && user.role) ? user.role : 'user'

            .profile-body
              .info-row
                .info-ico
                  i.bi.bi-envelope-fill
                div
                  p.info-title Email
                  p.info-val= (user && user.email) ? user.email : '-'

              .info-row
                .info-ico
                  i.bi.bi-shield-lock-fill
                div
                  p.info-title Status Login
                  p.info-val Aktif (session)

              .info-row
                .info-ico
                  i.bi.bi-clock-history
                div
                  p.info-title Terakhir Update
                  p.info-val= (user && user.updated_at) ? user.updated_at : 'â€”'

        .col-lg-4
          .profile-card
            .profile-body
              h5.fw-bold.mb-3 Aksi Cepat

              .action-grid
                //- kalau lo udah punya halaman ganti password, arahin ke situ
                a.action-btn(href="/profile/password")
                  span.action-left
                    i.bi.bi-key-fill
                    span Ganti Password
                  i.bi.bi-chevron-right

                a.action-btn(href="/me/favorites")
                  span.action-left
                    i.bi.bi-bookmark-heart
                    span Disimpan (Favorites)
                  i.bi.bi-chevron-right

                a.action-btn(href="/logout")
                  span.action-left
                    i.bi.bi-box-arrow-right
                    span Logout
                  i.bi.bi-chevron-right
