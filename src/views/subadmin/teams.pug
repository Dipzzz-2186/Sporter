extends ../layout/main

block content
  style.
    :root {
      --primary-color: #0095FF;
      --primary-dark: #0066CC;
      --primary-light: #34C7FF;
      --secondary-dark: #0B1F3F;
      --secondary-light: #152844;
      --accent-color: #FF6B35;
      --success-color: #00CC88;
      --warning-color: #FFAA00;
      --danger-color: #FF4757;
      --gray-50: #F8FAFC;
      --gray-100: #F1F5F9;
      --gray-200: #E2E8F0;
      --gray-300: #CBD5E1;
      --gray-400: #94A3B8;
      --gray-500: #64748B;
      --gray-600: #475569;
      --gray-700: #334155;
      --gray-800: #1E293B;
      --gray-900: #0F172A;
      --shadow-sm: 0 2px 8px rgba(0, 149, 255, 0.08);
      --shadow-md: 0 8px 25px rgba(0, 149, 255, 0.12);
      --shadow-lg: 0 15px 35px rgba(0, 149, 255, 0.15);
      --shadow-xl: 0 25px 50px rgba(0, 149, 255, 0.2);
      --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      --gradient-secondary: linear-gradient(135deg, var(--secondary-dark) 0%, var(--secondary-light) 100%);
      --gradient-accent: linear-gradient(135deg, var(--accent-color) 0%, #FF8E53 100%);
      --gradient-success: linear-gradient(135deg, var(--success-color) 0%, #00E699 100%);
      --gradient-warning: linear-gradient(135deg, var(--warning-color) 0%, #FFC850 100%);
    }

    /* Teams Dashboard */
    .teams-dashboard {
      background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
      min-height: 100vh;
      padding: 3rem 0;
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ===== PAGE HEADER (IMPROVED BASED ON CLASSEMENT) ===== */
    .page-header {
      background: var(--gradient-secondary);
      border-radius: 20px;
      padding: 2.5rem;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
      animation: fadeInDown 0.6s ease-out;
      box-shadow: var(--shadow-xl);
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .page-header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(0, 149, 255, 0.15) 0%, transparent 70%);
      border-radius: 50%;
    }

    .page-header-content {
      position: relative;
      z-index: 2;
    }

    .page-title {
      color: white;
      font-family: 'Bebas Neue', cursive;
      font-size: 2.5rem;
      letter-spacing: 1px;
      margin: 0 0 0.5rem 0;
      position: relative;
      z-index: 2;
    }

    .page-title i {
      background: linear-gradient(135deg, #0095FF 0%, #34C7FF 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-right: 0.5rem;
    }

    .page-subtitle {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.05rem;
      margin-bottom: 1.5rem;
      max-width: 600px;
      line-height: 1.6;
    }

    /* ===== BACK BUTTON (FROM CLASSEMENT) ===== */
    .btn-back-modern {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      margin-top: 1rem;
      background: rgba(255, 255, 255, 0.15);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.35);
      border-radius: 12px;
      padding: 0.45rem 0.9rem;
      font-size: 0.85rem;
      font-weight: 600;
      transition: all 0.25s ease;
      text-decoration: none;
    }

    .btn-back-modern:hover {
      background: rgba(255, 255, 255, 0.28);
      transform: translateX(-3px);
      color: #fff;
    }

    /* ===== HEADER ACTION BUTTONS ===== */
    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .btn-add-team {
      background: linear-gradient(135deg, #0095FF 0%, #34C7FF 100%);
      border: none;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 149, 255, 0.3);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.95rem;
    }

    .btn-add-team:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 149, 255, 0.4);
      color: white;
    }

    /* Stats Cards */
    .stats-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2.5rem;
      animation: slideInUp 0.6s ease-out 0.2s backwards;
    }

    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .stat-card {
      background: white;
      border-radius: 20px;
      padding: 1.75rem;
      border: 2px solid var(--gray-200);
      box-shadow: var(--shadow-lg);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--gradient-primary);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .stat-card:hover::before {
      transform: scaleX(1);
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary-color);
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.25rem;
      font-size: 1.75rem;
      background: rgba(0, 149, 255, 0.1);
      color: var(--primary-color);
      border: 2px solid rgba(0, 149, 255, 0.2);
      transition: all 0.4s ease;
    }

    .stat-card:hover .stat-icon {
      background: var(--gradient-primary);
      color: white;
      border-color: transparent;
      transform: rotate(10deg) scale(1.1);
    }

    .stat-content h3 {
      font-size: 2.25rem;
      font-weight: 800;
      color: var(--secondary-dark);
      margin-bottom: 0.25rem;
      line-height: 1;
    }

    .stat-content p {
      font-size: 0.95rem;
      color: var(--gray-600);
      font-weight: 600;
      margin: 0;
    }

    /* Content Card */
    .content-card {
      background: white;
      border-radius: 22px;
      border: 2px solid var(--gray-200);
      overflow: hidden;
      box-shadow: var(--shadow-xl);
      margin-bottom: 2.5rem;
      animation: slideInUp 0.6s ease-out 0.3s backwards;
    }

    .card-header {
      padding: 1.5rem 2rem;
      border-bottom: 2px solid var(--gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
    }

    .card-header h3 {
      margin: 0;
      font-weight: 800;
      color: var(--secondary-dark);
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .card-header h3 i {
      color: var(--primary-color);
      font-size: 1.2rem;
    }

    .card-actions {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    /* Search Box */
    .search-box {
      position: relative;
      min-width: 300px;
    }

    .search-input {
      width: 100%;
      padding: 0.875rem 1rem 0.875rem 3rem;
      border: 2px solid var(--gray-200);
      border-radius: 12px;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      background: white;
      box-shadow: var(--shadow-sm);
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(0, 149, 255, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary-color);
      font-size: 1.1rem;
    }

    /* Filter Select */
    .filter-select {
      padding: 0.875rem 1.25rem;
      border: 2px solid var(--gray-200);
      border-radius: 12px;
      background: white;
      color: var(--gray-700);
      font-weight: 600;
      font-size: 0.95rem;
      min-width: 180px;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: var(--shadow-sm);
    }

    .filter-select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(0, 149, 255, 0.1);
    }

    .filter-select:hover {
      border-color: var(--primary-color);
    }

    /* Teams Table */
    .teams-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }

    .teams-table thead {
      background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .teams-table th {
      padding: 1.25rem 1.5rem;
      text-align: left;
      font-size: 0.85rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--gray-600);
      border-bottom: 2px solid var(--gray-200);
      white-space: nowrap;
    }

    .teams-table th:first-child {
      border-radius: 20px 0 0 0;
    }

    .teams-table th:last-child {
      border-radius: 0 20px 0 0;
    }

    .teams-table tbody tr {
      transition: all 0.3s ease;
      border-bottom: 1px solid var(--gray-200);
    }

    .teams-table tbody tr:last-child {
      border-bottom: none;
    }

    .teams-table tbody tr:hover {
      background: linear-gradient(135deg, rgba(0, 149, 255, 0.03) 0%, rgba(52, 199, 255, 0.03) 100%);
      transform: translateX(4px);
    }

    .teams-table td {
      padding: 1.25rem 1.5rem;
      color: var(--gray-800);
      font-size: 0.95rem;
      border-bottom: 1px solid var(--gray-200);
      vertical-align: middle;
    }

    .teams-table tbody tr:last-child td {
      border-bottom: none;
    }

    /* Team Info */
    .team-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .team-logo {
      width: 50px;
      height: 50px;
      border-radius: 14px;
      background: var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.25rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .team-details h5 {
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 0.25rem;
      font-size: 1.05rem;
    }

    .team-details p {
      font-size: 0.85rem;
      color: var(--gray-500);
      margin: 0;
    }

    /* Sport Badge */
    .sport-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: linear-gradient(135deg, rgba(0, 149, 255, 0.1) 0%, rgba(52, 199, 255, 0.1) 100%);
      color: var(--primary-color);
      padding: 0.5rem 1rem;
      border-radius: 10px;
      font-weight: 600;
      font-size: 0.85rem;
      border: 1px solid rgba(0, 149, 255, 0.2);
    }

    .sport-badge i {
      font-size: 0.9rem;
    }

    /* City Info */
    .city-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .city-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: rgba(0, 149, 255, 0.1);
      color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      flex-shrink: 0;
    }

    .city-details h6 {
      font-weight: 600;
      color: var(--gray-800);
      margin-bottom: 0.25rem;
      font-size: 0.95rem;
    }

    .city-details p {
      font-size: 0.85rem;
      color: var(--gray-500);
      margin: 0;
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
    }

    .action-btn {
      padding: 0.75rem 1.25rem;
      border-radius: 10px;
      font-weight: 600;
      font-size: 0.9rem;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .btn-manage {
      background: var(--gradient-primary);
      color: white;
      box-shadow: 0 4px 12px rgba(0, 149, 255, 0.3);
    }

    .btn-manage:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 149, 255, 0.4);
      color: white;
    }

    .btn-view {
      background: white;
      color: var(--primary-color);
      border: 2px solid var(--gray-300);
    }

    .btn-view:hover {
      background: var(--gray-50);
      border-color: var(--primary-color);
      transform: translateY(-2px);
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      animation: fadeIn 0.6s ease-out;
    }

    .empty-state-icon {
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      color: var(--primary-color);
      font-size: 2.5rem;
      border: 2px solid var(--gray-200);
    }

    .empty-state-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--secondary-dark);
      margin-bottom: 0.75rem;
    }

    .empty-state-description {
      color: var(--gray-600);
      margin-bottom: 1.5rem;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .stats-cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 992px) {
      .page-header {
        padding: 2rem;
      }
      
      .page-title {
        font-size: 2rem;
      }

      .card-header {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
      }

      .card-actions {
        width: 100%;
        flex-direction: column;
      }

      .search-box,
      .filter-select {
        width: 100%;
      }

      .teams-table {
        display: block;
        overflow-x: auto;
      }

      .team-info {
        min-width: 250px;
      }
    }

    @media (max-width: 768px) {
      .teams-dashboard {
        padding: 2rem 0;
      }

      .page-header {
        padding: 1.5rem;
      }

      .page-title {
        font-size: 1.5rem;
      }

      .page-subtitle {
        font-size: 1rem;
      }

      .header-actions {
        flex-direction: column;
        align-items: stretch;
        gap: 0.75rem;
      }

      .btn-add-team {
        width: 100%;
        justify-content: center;
      }

      .stats-cards {
        grid-template-columns: 1fr;
      }

      .stat-card {
        padding: 1.5rem;
      }

      .stat-icon {
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
      }

      .stat-content h3 {
        font-size: 2rem;
      }

      .teams-table th,
      .teams-table td {
        padding: 1rem;
      }

      .action-buttons {
        flex-direction: column;
      }

      .action-btn {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 576px) {
      .page-header {
        padding: 1.25rem;
        border-radius: 16px;
      }

      .page-title {
        font-size: 1.4rem;
      }

      .team-info {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
      }

      .team-logo {
        width: 40px;
        height: 40px;
        font-size: 1rem;
      }

      .city-info {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }

      .city-icon {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
      }
    }

    /* Animation Delays */
    .stat-card:nth-child(1) { animation-delay: 0.1s; }
    .stat-card:nth-child(2) { animation-delay: 0.2s; }
    .stat-card:nth-child(3) { animation-delay: 0.3s; }
    .stat-card:nth-child(4) { animation-delay: 0.4s; }

  // Teams Dashboard
  .teams-dashboard
    .container
      //- ===== IMPROVED PAGE HEADER =====
      .page-header
        .page-header-content
          .d-flex.justify-content-between.align-items-start.mb-3
            h1.page-title
              i.bi.bi-people-fill
              | Kelola Tim
            
            - const backUrl = (currentUser && currentUser.role === 'admin') ? '/admin' : '/subadmin'
            a.btn-back-modern(href=backUrl)
              i.bi.bi-arrow-left.me-1
              | Kembali
          
          p.page-subtitle
            | Pantau dan kelola semua tim olahraga yang Anda pegang. Atur anggota, informasi tim, dan lainnya.
          
          .header-actions
            if !isReadOnly
              a.btn-add-team(href="/subadmin/teams/create")
                i.bi.bi-plus-circle
                span Buat Tim Baru

    .container
      // Stats Cards
      .stats-cards
        .stat-card
          .stat-icon
            i.bi.bi-people-fill
          .stat-content
            h3= teams ? teams.length : 0
            p Total Tim
        
        .stat-card
          .stat-icon
            i.bi.bi-trophy
          .stat-content
            h3= sportsCount || '0'
            p Cabang Olahraga
        
        .stat-card
          .stat-icon
            i.bi.bi-geo-alt
          .stat-content
            h3= citiesCount || '0'
            p Kota
        
        .stat-card
          .stat-icon
            i.bi.bi-person-badge
          .stat-content
            h3= membersCount || '0'
            p Total Anggota

      // Main Content Card
      .content-card
        .card-header
          h3
            i.bi.bi-list-task
            | Daftar Tim

          .card-actions
            .search-box
              i.bi.bi-search.search-icon
              input.search-input.form-control(
                type="search" 
                placeholder="Cari nama tim atau kota..."
                oninput="filterTeams(this.value)"
                id="searchInput"
              )
            
            select.filter-select#sportFilter(onchange="filterBySport(this.value)")
              option(value="") Semua Cabang
              each sport in sportsList || []
                option(value=sport.id)= sport.name

        .card-body.p-0
          if teams && teams.length > 0
            .table-responsive
              table.table.teams-table.mb-0
                thead
                  tr
                    th(style="width: 35%;") Tim
                    th(style="width: 25%;") Cabang
                    th(style="width: 25%;") Kota
                    th.text-end(style="width: 15%;") Aksi
                
                tbody#teamsTable
                  each t in teams
                    tr(
                      data-name=(t.name ? t.name.toLowerCase() : '')
                      data-sport=(t.sport_id || t.sport_name || '')
                      data-city=(t.city ? t.city.toLowerCase() : '')
                    )
                      td
                        .team-info
                          .team-logo= t.name.charAt(0).toUpperCase()
                          .team-details
                            h5= t.name
                            if t.description
                              p= t.description.length > 50 ? t.description.substring(0, 50) + '...' : t.description
                      
                      td
                        if t.sport_name
                          span.sport-badge
                            i.bi.bi-trophy
                            = t.sport_name
                        else
                          span.text-muted Belum ditentukan
                      
                      td
                        .city-info
                          .city-icon
                            i.bi.bi-geo-alt
                          .city-details
                            h6= t.city || 'Belum ditentukan'
                            p= t.province || 'Provinsi'
                      
                      td.text-end
                        .action-buttons
                          a.action-btn.btn-manage(href=`/subadmin/teams/${t.id}/members`)
                            i.bi.bi-person-lines-fill
                            | Kelola
                          a.action-btn.btn-view(href=`/teams/${t.id}` target="_self")
                            i.bi.bi-eye
                            | Lihat
          
          else
            .empty-state
              .empty-state-icon
                i.bi.bi-people
              h3.empty-state-title Belum Ada Tim
              p.empty-state-description
                | Saat ini belum ada tim yang terdaftar untuk cabang olahraga yang Anda pegang.
              .mt-3
                a.btn.btn-primary(href="/subadmin/teams/create" style="background: var(--gradient-primary); border: none;")
                  i.bi.bi-plus-circle.me-2
                  | Buat Tim Pertama

  script.
    // Filter teams by search
    function filterTeams(query) {
      const q = query.toLowerCase().trim();
      const rows = document.querySelectorAll('#teamsTable tr');
      
      rows.forEach(row => {
        const name = row.dataset.name || '';
        const city = row.dataset.city || '';
        
        const shouldShow = q === '' || 
          name.includes(q) || 
          city.includes(q);
        
        if (shouldShow) {
          row.style.display = '';
          row.style.animation = 'fadeIn 0.3s ease-out';
        } else {
          row.style.display = 'none';
        }
      });
    }
    
    // Filter by sport
    function filterBySport(sportId) {
      const rows = document.querySelectorAll('#teamsTable tr');
      const searchQuery = document.getElementById('searchInput').value.toLowerCase().trim();
      
      rows.forEach(row => {
        const sport = row.dataset.sport;
        const name = row.dataset.name || '';
        const city = row.dataset.city || '';
        
        let showBySport = !sportId || sport === sportId;
        let showBySearch = !searchQuery || name.includes(searchQuery) || city.includes(searchQuery);
        
        const shouldShow = showBySport && showBySearch;
        row.style.display = shouldShow ? '' : 'none';
        
        if (shouldShow) {
          row.style.animation = 'fadeIn 0.3s ease-out';
        }
      });
    }
    
    // Reset all filters
    function resetFilters() {
      document.getElementById('searchInput').value = '';
      document.getElementById('sportFilter').value = '';
      
      const rows = document.querySelectorAll('#teamsTable tr');
      rows.forEach(row => {
        row.style.display = '';
        row.style.animation = 'fadeIn 0.3s ease-out';
      });
    }
    
    // Initialize animations
    document.addEventListener('DOMContentLoaded', function() {
      // Add row animations
      const rows = document.querySelectorAll('#teamsTable tr');
      rows.forEach((row, index) => {
        row.style.animationDelay = `${index * 0.05}s`;
        row.style.animation = 'slideInUp 0.4s ease-out forwards';
        row.style.opacity = '0';
      });
      
      // Add hover effects to stat cards
      const statCards = document.querySelectorAll('.stat-card');
      statCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-8px)';
        });
        
        card.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0)';
        });
      });
      
      // Keyboard shortcuts
      document.addEventListener('keydown', function(e) {
        // Ctrl/Cmd + F for search focus
        if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
          e.preventDefault();
          document.getElementById('searchInput').focus();
          document.getElementById('searchInput').select();
        }
        
        // Escape to reset filters
        if (e.key === 'Escape') {
          resetFilters();
        }
        
        // Ctrl/Cmd + N for new team
        if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
          e.preventDefault();
          window.location.href = '/admin/teams/create';
        }
      });
      
      // Add click animation to action buttons
      const actionButtons = document.querySelectorAll('.action-btn');
      actionButtons.forEach(btn => {
        btn.addEventListener('click', function(e) {
          if (this.getAttribute('href') === '#') {
            e.preventDefault();
          }
          
          // Add ripple effect
          const ripple = document.createElement('span');
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.style.cssText = `
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: ripple 0.6s linear;
            width: ${size}px;
            height: ${size}px;
            top: ${y}px;
            left: ${x}px;
          `;
          
          this.style.position = 'relative';
          this.style.overflow = 'hidden';
          this.appendChild(ripple);
          
          setTimeout(() => {
            ripple.remove();
            this.style.position = '';
            this.style.overflow = '';
          }, 600);
        });
      });
      
      // Add ripple animation
      const style = document.createElement('style');
      style.textContent = `
        @keyframes ripple {
          to {
            transform: scale(4);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
    });
    
    // Export teams data
    function exportTeamsData() {
      const teamsData = [];
      const rows = document.querySelectorAll('#teamsTable tr');
      
      rows.forEach(row => {
        if (row.style.display !== 'none') {
          const name = row.querySelector('.team-details h5').textContent;
          const sport = row.querySelector('.sport-badge')?.textContent || 'Belum ditentukan';
          const city = row.querySelector('.city-details h6').textContent;
          
          teamsData.push({ name, sport, city });
        }
      });
      
      // Convert to CSV
      const csvContent = [
        ['Nama Tim', 'Cabang Olahraga', 'Kota'],
        ...teamsData.map(team => [team.name, team.sport, team.city])
      ].map(row => row.join(',')).join('\n');
      
      // Download CSV
      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = `tim-olahraga-${new Date().toISOString().split('T')[0]}.csv`;
      link.click();
      
      // Show notification
      showNotification(`Berhasil mengekspor ${teamsData.length} tim ke CSV`);
    }
    
    // Show notification
    function showNotification(message) {
      const notification = document.createElement('div');
      notification.innerHTML = `
        <div style="
          position: fixed;
          top: 20px;
          right: 20px;
          background: var(--gradient-success);
          color: white;
          padding: 1rem 1.5rem;
          border-radius: 12px;
          box-shadow: var(--shadow-lg);
          z-index: 9999;
          animation: slideInRight 0.3s ease-out;
          display: flex;
          align-items: center;
          gap: 0.75rem;
        ">
          <i class="bi bi-check-circle"></i>
          <span>${message}</span>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease-out';
        setTimeout(() => {
          notification.remove();
        }, 300);
      }, 3000);
      
      const animationStyle = document.createElement('style');
      animationStyle.textContent = `
        @keyframes slideInRight {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOutRight {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
      `;
      document.head.appendChild(animationStyle);
    }

    function filterBySport(val) {
      console.log('Selected value:', val);
    }