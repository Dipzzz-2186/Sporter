extends ../layout/main

block content
  style.
    /* Dashboard Hero */
    .dashboard-hero {
      background: linear-gradient(135deg, #1C1C1E 0%, #2c2c2e 100%);
      padding: 3rem 0 2rem;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      margin-bottom: 2rem;
    }
    
    .dashboard-hero::before {
      content: '';
      position: absolute;
      top: -30%;
      right: -10%;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }
    
    .dashboard-hero::after {
      content: '';
      position: absolute;
      bottom: -20%;
      left: -10%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(16, 185, 129, 0.08) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
    }
    
    /* User Greeting */
    .user-greeting {
      font-size: 2.5rem;
      font-weight: 700;
      color: white;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      animation: fadeInUp 0.6s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Role Badge */
    .user-role-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      color: white;
      font-weight: 600;
      font-size: 0.95rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      margin-bottom: 1rem;
      animation: fadeInUp 0.8s ease-out;
    }
    
    .user-role-badge i {
      font-size: 1.1rem;
    }
    
    /* Assigned Sports */
    .assigned-sports {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
      animation: fadeInUp 1s ease-out;
    }
    
    .sport-pill {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 100%);
      backdrop-filter: blur(10px);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid rgba(255, 255, 255, 0.3);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
    }
    
    .sport-pill:hover {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0.25) 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    
    .sport-pill::before {
      content: 'üèÜ';
      font-size: 1rem;
    }
    
    /* Hero Description */
    .hero-description {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.05rem;
      margin-top: 1rem;
      margin-bottom: 0;
      line-height: 1.6;
      animation: fadeInUp 1.2s ease-out;
    }
    
    /* Quick Actions - Improved Layout */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
      position: relative;
      z-index: 2;
    }
    
    .action-btn {
      background: white;
      border: none;
      border-radius: 16px;
      padding: 1.25rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
      min-height: 120px;
    }
    
    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: currentColor;
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }
    
    .action-btn:hover::before {
      transform: scaleX(1);
    }
    
    .action-btn:hover {
      transform: translateY(-5px) scale(1.03);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
      text-decoration: none;
    }
    
    .action-btn i {
      font-size: 2rem;
      color: currentColor;
      transition: transform 0.3s ease;
    }
    
    .action-btn:hover i {
      transform: scale(1.1);
    }
    
    .action-btn span {
      font-weight: 600;
      font-size: 0.9rem;
      color: #1C1C1E;
      text-align: center;
      line-height: 1.3;
    }
    
    /* Action Button Colors */
    .action-btn-success { color: #10B981; }
    .action-btn-warning { color: #F59E0B; }
    .action-btn-info { color: #3B82F6; }
    .action-btn-danger { color: #EF4444; }
    
    /* Stats Cards - Improved Layout */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1.25rem;
      margin-bottom: 2.5rem;
    }
    
    .stat-card {
      background: white;
      border-radius: 18px;
      padding: 1.5rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid #f0f0f0;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out backwards;
      display: flex;
      flex-direction: column;
    }
    
    .stat-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      border-color: #3B82F6;
    }
    
    .stat-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, currentColor 0%, transparent 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .stat-card:hover::after {
      opacity: 0.3;
    }
    
    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.25rem;
      font-size: 1.8rem;
      color: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .stat-icon-sports { background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%); }
    .stat-icon-events { background: linear-gradient(135deg, #10B981 0%, #059669 100%); }
    .stat-icon-matches { background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%); }
    .stat-icon-videos { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); }
    .stat-icon-livestreams { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); }
    .stat-icon-tickets { background: linear-gradient(135deg, #06B6D4 0%, #0891B2 100%); }
    
    .stat-value {
      font-size: 2.25rem;
      font-weight: 800;
      color: #1C1C1E;
      line-height: 1;
      margin-bottom: 0.25rem;
    }
    
    .stat-label {
      color: #6c757d;
      font-size: 0.9rem;
      margin: 0;
      font-weight: 500;
    }
    
    /* Dashboard Layout */
    .dashboard-main {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    
    /* Content Sections */
    .dashboard-section {
      background: white;
      border-radius: 20px;
      padding: 1.75rem;
      margin-bottom: 1.5rem;
      border: 1px solid #f0f0f0;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
    }
    
    .dashboard-section:hover {
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.75rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #f0f0f0;
    }
    
    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #1C1C1E;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin: 0;
    }
    
    .section-title i {
      color: #3B82F6;
    }
    
    /* Table Styling */
    .dashboard-table {
      background: white;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid #f0f0f0;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    }
    
    .dashboard-table .table {
      margin-bottom: 0;
      font-size: 0.95rem;
    }
    
    .dashboard-table thead th {
      background: #f8fafc;
      border-bottom: 2px solid #e2e8f0;
      font-weight: 600;
      color: #4b5563;
      padding: 1.25rem 1.5rem;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      white-space: nowrap;
    }
    
    .dashboard-table tbody td {
      padding: 1.25rem 1.5rem;
      vertical-align: middle;
      border-bottom: 1px solid #f1f5f9;
      transition: background-color 0.2s ease;
    }
    
    .dashboard-table tbody tr {
      transition: all 0.3s ease;
    }
    
    .dashboard-table tbody tr:hover {
      background-color: #f8fafc;
      transform: translateX(5px);
    }
    
    .match-title {
      font-weight: 600;
      color: #1C1C1E;
      margin-bottom: 0.25rem;
      font-size: 1.05rem;
    }
    
    .match-subtitle {
      font-size: 0.85rem;
      color: #6c757d;
    }
    
    .date-badge {
      background: #f8fafc;
      padding: 0.5rem 0.9rem;
      border-radius: 12px;
      font-size: 0.85rem;
      color: #4b5563;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border: 1px solid #e2e8f0;
      font-weight: 500;
    }
    
    .ticket-badge {
      padding: 0.4rem 0.85rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .ticket-sold-out {
      background: rgba(239, 68, 68, 0.1);
      color: #dc2626;
    }
    
    .ticket-disabled {
      background: rgba(107, 114, 128, 0.1);
      color: #6b7280;
    }
    
    .ticket-available {
      background: rgba(34, 197, 94, 0.1);
      color: #16a34a;
    }
    
    /* Quick Buy Form */
    .quick-buy-form {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .quantity-input {
      width: 80px;
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      font-size: 0.9rem;
      text-align: center;
      font-weight: 500;
    }
    
    .buy-btn {
      background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .buy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(59, 130, 246, 0.4);
    }
    
    /* Sidebar Cards */
    .sidebar-card {
      background: white;
      border-radius: 20px;
      border: 1px solid #f0f0f0;
      overflow: hidden;
      margin-bottom: 1.5rem;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .sidebar-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .sidebar-card-header {
      background: #f8fafc;
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .sidebar-card-header h6 {
      margin: 0;
      font-weight: 600;
      color: #1C1C1E;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.1rem;
    }
    
    .sidebar-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .sidebar-list-item {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid #f1f5f9;
      transition: all 0.3s ease;
    }
    
    .sidebar-list-item:hover {
      background: #f8fafc;
      transform: translateX(5px);
    }
    
    .sidebar-list-item:last-child {
      border-bottom: none;
    }
    
    .sidebar-list-item a {
      color: #1C1C1E;
      text-decoration: none;
      font-weight: 500;
      display: block;
      transition: color 0.3s ease;
      font-size: 1rem;
    }
    
    .sidebar-list-item a:hover {
      color: #3B82F6;
    }
    
    .livestream-item {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .livestream-title {
      font-weight: 600;
      color: #1C1C1E;
      margin: 0;
      font-size: 1rem;
    }
    
    .livestream-meta {
      font-size: 0.85rem;
      color: #6c757d;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .livestream-sport {
      background: rgba(59, 130, 246, 0.1);
      color: #3B82F6;
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .livestream-btn {
      margin-top: 0.75rem;
      align-self: flex-start;
    }
    
    /* Empty States */
    .empty-state {
      padding: 2.5rem;
      text-align: center;
      color: #6c757d;
    }
    
    .empty-state-icon {
      width: 70px;
      height: 70px;
      background: #f8fafc;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      color: #94a3b8;
      font-size: 1.8rem;
    }
    
    /* Status Indicators */
    .status-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      font-weight: 500;
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
    }
    
    .status-active {
      background: rgba(34, 197, 94, 0.1);
      color: #16a34a;
    }
    
    .status-pending {
      background: rgba(245, 158, 11, 0.1);
      color: #d97706;
    }
    
    .status-inactive {
      background: rgba(107, 114, 128, 0.1);
      color: #6b7280;
    }
    
    /* Grid Layout Improvements */
    .content-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }
    
    @media (max-width: 992px) {
      .content-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .dashboard-hero {
        padding: 2rem 0 1.5rem;
      }
      
      .user-greeting {
        font-size: 2rem;
      }
      
      .quick-actions {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
      }
      
      .action-btn {
        padding: 1rem 0.75rem;
        min-height: 100px;
      }
      
      .action-btn i {
        font-size: 1.75rem;
      }
      
      .action-btn span {
        font-size: 0.85rem;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }
      
      .dashboard-section {
        padding: 1.5rem;
      }
      
      .content-grid {
        gap: 1.5rem;
      }
      
      .dashboard-table {
        overflow-x: auto;
      }
      
      .quick-buy-form {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
      }
      
      .quantity-input,
      .buy-btn {
        width: 100%;
      }
    }
    
    @media (max-width: 576px) {
      .quick-actions {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .action-btn {
        min-height: 90px;
      }
      
      .user-greeting {
        font-size: 1.75rem;
      }
      
      .dashboard-section {
        padding: 1.25rem;
      }
    }

  // Dashboard Hero Section
  .dashboard-hero
    .container
      .hero-content
        .row.align-items-center
          .col-md-8
            h1.user-greeting= "Halo, " + (currentUser && currentUser.name ? currentUser.name : 'SubAdmin')
            
            .user-role-badge
              i.bi.bi-shield-check
              | SubAdmin Dashboard

            if assignedSports && assignedSports.length
              .assigned-sports
                each sport in assignedSports
                  .sport-pill= sport.name
            else
              .no-sports-text
                i.bi.bi-info-circle
                span Belum ada cabang olahraga yang ditugaskan

            p.hero-description Kelola event, jadwal, dan konten untuk cabang olahraga Anda
      
      .quick-actions
        a.action-btn.action-btn-success(href="/subadmin/matches/create")
          i.bi.bi-calendar-plus
          span Jadwal Pertandingan
        
        a.action-btn.action-btn-info(href="/subadmin/teams")
          i.bi.bi-people-fill
          span Kelola Tim
        
        a.action-btn.action-btn-warning(href="/subadmin/news/create")
          i.bi.bi-newspaper
          span Buat Berita
        
        a.action-btn.action-btn-info(href="/subadmin/videos/create")
          i.bi.bi-play-btn-fill
          span Tambah Video
        
        a.action-btn.action-btn-danger(href="/subadmin/livestreams/create")
          i.bi.bi-broadcast
          span Tambah Livestream
          
        a.action-btn.action-btn-info(href="/subadmin/standings")
          i.bi.bi-bar-chart-line-fill
          span Lihat Klasemen
        
        a.action-btn.action-btn-info(href="/subadmin/ticket-orders")
          i.bi.bi-receipt
          span Order Tiket

  .container
    // Stats Overview Section
    .stats-grid
      .stat-card
        .stat-icon.stat-icon-sports
          i.bi.bi-trophy
        .stat-value= stats.sports || 0
        .stat-label Cabang Olahraga
      
      .stat-card
        .stat-icon.stat-icon-events
          i.bi.bi-calendar-event
        .stat-value= stats.events || 0
        .stat-label Event
      
      .stat-card
        .stat-icon.stat-icon-matches
          i.bi.bi-calendar-check
        .stat-value= stats.matches || 0
        .stat-label Pertandingan
      
      .stat-card
        .stat-icon.stat-icon-videos
          i.bi.bi-play-btn
        .stat-value= stats.videos || 0
        .stat-label Video
      
      .stat-card
        .stat-icon.stat-icon-livestreams
          i.bi.bi-broadcast
        .stat-value= stats.livestreams || 0
        .stat-label Livestreams
      
      .stat-card
        .stat-icon.stat-icon-tickets
          i.bi.bi-ticket-perforated
        .stat-value= stats.ticketOrders || 0
        .stat-label Order Tiket

    .content-grid
      // Main Content Area
      .main-content
        // Upcoming Matches
        .dashboard-section
          .section-header
            h2.section-title
              i.bi.bi-calendar-event
              | Jadwal Mendatang

            .d-flex.align-items-center.gap-2
              a.btn.btn-sm.btn-outline-primary(href="/subadmin/matches")
                i.bi.bi-list-ul.me-1
                | Kelola
              a.btn.btn-sm.btn-primary(href="/subadmin/matches/create")
                i.bi.bi-plus-lg.me-1
                | Buat Baru
            
          .dashboard-table
            .table-responsive
              table.table.table-hover.mb-0
                thead
                  tr
                    th(style="width: 30%") Match / Event
                    th(style="width: 15%") Cabang
                    th(style="width: 20%") Tanggal & Waktu
                    th(style="width: 15%") Status Tiket
                    th(style="width: 20%") Aksi
                tbody
                  if upcomingMatches && upcomingMatches.length
                    each match in upcomingMatches
                      - const startTime = new Date(match.start_time || match.start_date || null)
                      - const isToday = new Date().toDateString() === startTime.toDateString()
                      tr
                        td
                          .match-title= match.title || (match.home_team_name ? (match.home_team_name + " vs " + (match.away_team_name||'-')) : 'Match')
                          if match.match_title
                            .match-subtitle= match.match_title
                        td= match.sport_name || '-'
                        td
                          .date-badge
                            i.bi.bi-calendar3
                            = isToday ? 'Hari ini' : startTime.toLocaleDateString('id-ID')
                          .text-muted.small.mt-1
                            i.bi.bi-clock
                            = ' ' + startTime.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })
                        td
                          if match.ticket_available === 0
                            span.ticket-badge.ticket-sold-out
                              i.bi.bi-x-circle.me-1
                              | Sold out
                          else if !match.can_buy
                            span.ticket-badge.ticket-disabled
                              i.bi.bi-slash-circle.me-1
                              | Disabled
                          else
                            span.ticket-badge.ticket-available
                              i.bi.bi-check-circle.me-1
                              = match.ticket_available + " tersedia"
                        td
                          if match.can_buy
                            .quick-buy-form
                              input.quantity-input.form-control.form-control-sm(
                                type="number" 
                                name="quantity" 
                                min="1" 
                                max=match.ticket_available 
                                value="1"
                              )
                              button.buy-btn.btn-sm(type="button" onclick=`buyTickets('${match.id}', this.previousElementSibling.value)`)
                                i.bi.bi-cart3.me-1
                                | Beli
                          else
                            a.btn.btn-sm.btn-outline-secondary(href=`/subadmin/matches/${match.id}/edit`)
                              i.bi.bi-pencil.me-1
                              | Edit
                  else
                    tr
                      td(colspan="5")
                        .empty-state
                          .empty-state-icon
                            i.bi.bi-calendar-x
                          h5.mb-2 Tidak ada jadwal
                          p.mb-0.text-muted Belum ada jadwal pertandingan mendatang untuk cabang yang Anda kelola.

      // Sidebar Content
      .sidebar-content
        // Recent News Card
        .sidebar-card
          .sidebar-card-header
            h6.mb-0
              i.bi.bi-newspaper.me-2
              | Berita Terbaru
            .d-flex.align-items-center.gap-2
              a.btn.btn-sm.btn-outline-primary(href="/subadmin/news")
                i.bi.bi-list-ul
              a.btn.btn-sm.btn-primary(href="/subadmin/news/create")
                i.bi.bi-plus-lg

          ul.sidebar-list
            if recentNews && recentNews.length
              each newsItem in recentNews
                li.sidebar-list-item
                  a(href=`/news/${newsItem.slug}`)
                    .d-flex.justify-content-between.align-items-center
                      .news-title= newsItem.title
                      span.status-indicator.status-active
                        i.bi.bi-circle-fill
                        | Aktif
                    small.text-muted.d-block.mt-1
                      i.bi.bi-clock.me-1
                      = (new Date(newsItem.created_at || newsItem.published_at)).toLocaleDateString('id-ID')
            else
              li.sidebar-list-item
                .empty-state.py-3
                  .empty-state-icon.mb-2
                    i.bi.bi-newspaper
                  p.mb-0.text-muted Belum ada berita

        // Recent Videos Card
        .sidebar-card
          .sidebar-card-header
            h6.mb-0
              i.bi.bi-play-btn.me-2
              | Video Terbaru
            .d-flex.align-items-center.gap-2
              a.btn.btn-sm.btn-outline-primary(href="/subadmin/videos")
                i.bi.bi-list-ul
              a.btn.btn-sm.btn-primary(href="/subadmin/videos/create")
                i.bi.bi-plus-lg

          ul.sidebar-list
            if recentVideos && recentVideos.length
              each video in recentVideos
                li.sidebar-list-item
                  a(href=`/videos/${video.id}`)
                    .d-flex.justify-content-between.align-items-center
                      .video-title= video.title
                      span.livestream-sport= video.duration || '--:--'
                    small.text-muted.d-block.mt-1
                      i.bi.bi-film.me-1
                      = video.sport_name || '-'
            else
              li.sidebar-list-item
                .empty-state.py-3
                  .empty-state-icon.mb-2
                    i.bi.bi-play-btn
                  p.mb-0.text-muted Belum ada video

        // Livestream Card
        .sidebar-card
          .sidebar-card-header
            h6.mb-0
              i.bi.bi-broadcast.me-2
              | Livestream Aktif
            .d-flex.align-items-center.gap-2
              a.btn.btn-sm.btn-outline-primary(href="/subadmin/livestreams")
                i.bi.bi-list-ul
              a.btn.btn-sm.btn-primary(href="/subadmin/livestreams/create")
                i.bi.bi-plus-lg

          ul.sidebar-list
            if upcomingLivestreams && upcomingLivestreams.length
              each livestream in upcomingLivestreams
                - const isLive = new Date(livestream.start_time || livestream.created_at) <= new Date()
                li.sidebar-list-item
                  .livestream-item
                    .livestream-title= livestream.title
                    .livestream-meta
                      span.livestream-sport= livestream.sport_name || '-'
                      span.status-indicator(class=isLive ? 'status-active' : 'status-pending')
                        i.bi.bi-circle-fill
                        = isLive ? 'Live' : 'Coming Soon'
                    a.btn.btn-sm.btn-outline-primary.livestream-btn(
                      href=`/livestreams/${livestream.id}`,
                      class=isLive ? 'btn-danger' : 'btn-primary'
                    )
                      i.bi.bi-eye.me-1
                      = isLive ? 'Tonton Live' : 'Jadwal'
            else
              li.sidebar-list-item
                .empty-state.py-3
                  .empty-state-icon.mb-2
                    i.bi.bi-broadcast
                  p.mb-0.text-muted Belum ada livestream

  script.
    function buyTickets(matchId, quantity) {
      // Implementasi pembelian tiket
      console.log(`Membeli ${quantity} tiket untuk match ${matchId}`);
      // Redirect atau tampilkan modal pembelian
      window.location.href = `/purchase/tickets?match=${matchId}&quantity=${quantity}`;
    }